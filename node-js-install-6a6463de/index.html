<!DOCTYPE html><html lang="zh-TW"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Node.js安裝與版本切換 for mac | ZL's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1604935910953"><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/purecss@1.0.0/build/pure-min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/purecss@1.0.0/build/grids-responsive-min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script type="text/javascript" src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Node.js安裝與版本切換 for mac</h1><a id="logo" href="/.">ZL's Blog</a><p class="description">紀錄當下</p></div><div id="nav-menu"><a href="/"><i class="fa fa-home"> 首頁</i></a><a href="/archives"><i class="fa fa-archive"> 所有文章</i></a><a href="/about"><i class="fa fa-user"> 關於</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Node.js安裝與版本切換 for mac</h1><div class="post-meta">2019-06-08<span> | </span><span class="category"><a href="/categories/tools/">工欲善其事</a></span></div><div class="post-content"><p>安裝 Node.js 有很多方式，不過由於 node 更新非常快速，開發過程中很有可能會有切換 node 版本的需求。<br>因此建議不要使用 mac 上常用的 <strong>Homebrew</strong> 來安裝 node，而是使用 <strong>nvm (Node Version Manager)</strong> 這個工具來安裝並且管理 node。</p>
<a id="more"></a>

<h2 id="安裝-nvm"><a href="#安裝-nvm" class="headerlink" title="安裝 nvm"></a>安裝 nvm</h2><p>官方建議直接使用<code>cURL</code>安裝或更新 nvm :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o- https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;nvm-sh&#x2F;nvm&#x2F;v0.34.0&#x2F;install.sh | bash</span><br></pre></td></tr></table></figure>

<p>上面的指令會把 nvm repository 複製到<code>~/.nvm</code>，然後會把 source line 加進你的 profile (<code>~/.bash_profile</code>, <code>~/.zshrc</code>, <code>~/.profile</code>, or <code>~/.bashrc</code>)：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export NVM_DIR&#x3D;&quot;$HOME&#x2F;.nvm&quot;</span><br><span class="line">[ -s &quot;$NVM_DIR&#x2F;nvm.sh&quot; ] &amp;&amp; . &quot;$NVM_DIR&#x2F;nvm.sh&quot; # This loads nvm</span><br></pre></td></tr></table></figure>

<p>在 OSX 中如果執行安裝指令之後出現 <code>nvm: command not found</code>，表示系統中沒有<code>.bash_profile</code> 這個檔案。可以透過 <code>touch ~/.bash_profile</code>建立，然後再執行一次安裝指令。</p>
<ul>
<li><a href="https://github.com/nvm-sh/nvm#installation-and-update" target="_blank" rel="noopener">nvm 官方安裝教學</a></li>
</ul>
<h3 id="檢查-nvm-是否順利安裝成功"><a href="#檢查-nvm-是否順利安裝成功" class="headerlink" title="檢查 nvm 是否順利安裝成功"></a>檢查 nvm 是否順利安裝成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command -v nvm</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="nvm-指令"><a href="#nvm-指令" class="headerlink" title="nvm 指令"></a>nvm 指令</h2><p>列出可用版本：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看有哪些 Node.js 版本可安裝</span></span><br><span class="line"><span class="string">$</span> <span class="string">nvm</span> <span class="string">ls-remote</span></span><br></pre></td></tr></table></figure>

<p>加上 <version> 參數 可篩選版本號：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出所有 8.x 版本資訊</span></span><br><span class="line"><span class="string">$</span> <span class="string">nvm</span> <span class="string">ls-remote</span> <span class="number">8</span></span><br><span class="line"><span class="comment">#     v8.9.0</span></span><br><span class="line"><span class="comment">#     v8.9.1</span></span><br><span class="line"><span class="comment">#     v8.9.2</span></span><br><span class="line"><span class="comment">#     v8.9.3</span></span><br><span class="line"><span class="comment">#     v8.9.4</span></span><br></pre></td></tr></table></figure>

<p>列出本機安裝的資訊：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">nvm</span> <span class="string">ls</span></span><br><span class="line"><span class="comment">#      v8.10.0</span></span><br><span class="line"><span class="comment"># -&gt;  v10.15.3</span></span><br><span class="line"><span class="comment">#       system</span></span><br></pre></td></tr></table></figure>

<h3 id="安裝需要的-Node-js-版本"><a href="#安裝需要的-Node-js-版本" class="headerlink" title="安裝需要的 Node.js 版本"></a>安裝需要的 Node.js 版本</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">nvm</span> <span class="string">install</span> <span class="number">10.16</span><span class="number">.0</span></span><br><span class="line"><span class="string">$</span> <span class="string">nvm</span> <span class="string">use</span> <span class="number">10.16</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>

<h3 id="設定預設-Node-js-版本"><a href="#設定預設-Node-js-版本" class="headerlink" title="設定預設 Node.js 版本"></a>設定預設 Node.js 版本</h3><p>上述安裝之後，每次重開 terminal，Node.js 的版本還是會重置<br>因此需要用下面指令設定預設使用的版本：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">nvm</span> <span class="string">alias</span> <span class="string">default</span> <span class="number">10.16</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="移除-nvm"><a href="#移除-nvm" class="headerlink" title="移除 nvm"></a>移除 nvm</h2><h3 id="先移除掉相關目錄："><a href="#先移除掉相關目錄：" class="headerlink" title="先移除掉相關目錄："></a>先移除掉相關目錄：</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">rm</span> <span class="string">-rf</span> <span class="string">~/.nvm</span></span><br><span class="line"><span class="string">rm</span> <span class="string">-rf</span> <span class="string">~/.npm</span></span><br><span class="line"><span class="string">rm</span> <span class="string">-rf</span> <span class="string">~/.bower</span></span><br></pre></td></tr></table></figure>

<p>接著再到 <code>~/.bash_profile</code> (<code>~/.bash_profile</code>, <code>~/.zshrc</code>, <code>~/.profile</code>, or <code>~/.bashrc</code>)，<br>把 source line 砍掉：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 砍掉以下內容</span></span><br><span class="line"><span class="string">export</span> <span class="string">NVM_DIR="$HOME/.nvm"</span></span><br><span class="line"><span class="string">[</span> <span class="string">-s</span> <span class="string">"$NVM_DIR/nvm.sh"</span> <span class="string">]</span> <span class="string">&amp;&amp;</span> <span class="string">.</span> <span class="string">"$NVM_DIR/nvm.sh"</span> <span class="comment"># This loads nvm</span></span><br></pre></td></tr></table></figure>

<p>重啟 terminal，查詢以下指令，應該都沒有東西了：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nvm</span></span><br><span class="line"><span class="string">ndoe</span></span><br><span class="line"><span class="string">npm</span></span><br></pre></td></tr></table></figure>

<h3 id="如果是用-Homebrew…"><a href="#如果是用-Homebrew…" class="headerlink" title="如果是用 Homebrew…"></a>如果是用 Homebrew…</h3><p>若是碰巧之前是用 Homebrew 安裝 Node.js 的話</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">brew</span> <span class="string">uninstall</span> <span class="string">node</span></span><br></pre></td></tr></table></figure>

<p>一般來說，<code>node</code>套件會預設在<code>/usr/local/bin</code>，所以請將以下目錄都砍掉：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">rm</span> <span class="string">-rf</span> <span class="string">/usr/local/bin/node</span></span><br><span class="line"><span class="string">rm</span> <span class="string">-rf</span> <span class="string">/usr/local/bin/npm</span></span><br><span class="line"><span class="string">rm</span> <span class="string">-rf</span> <span class="string">/usr/local/bin/node_modules</span></span><br></pre></td></tr></table></figure>

<p>想確認路徑到底是不是正確，可以用 <code>which node</code> 查詢。</p>
<hr>
<h4 id="閱讀參考"><a href="#閱讀參考" class="headerlink" title="閱讀參考"></a>閱讀參考</h4><ul>
<li><a href="http://icarus4.logdown.com/posts/175092-nodejs-installation-guide" target="_blank" rel="noopener">Node.js 安裝與版本切換教學 (for MAC)</a></li>
<li><a href="https://medium.com/@toumasaya/node-js-%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A-for-mac-a2628836feaf" target="_blank" rel="noopener">Node.js 環境設定-for mac</a></li>
</ul>
</div><span class="tags"><a href="/tags/Nodejs/">Nodejs</a></span><div class="post-nav"><a class="pre" href="/IDE-vscode-update-789c3552/">自動更新vscode失敗</a><a class="next" href="/npm-bb8ed262/">npm 套件管理工具</a></div><section><div id="gitalk-container"></div></section></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="form u-search-form" name="searchform"><input class="input u-search-input" type="text" name="q" placeholder="Search"/><span class="icon icon-search"></span></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分類</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">工欲善其事</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 標籤</i></div><div class="tagcloud"><a href="/tags/Nodejs/" style="font-size: 15px;">Nodejs</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/flutter/" style="font-size: 15px;">flutter</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/package-manage-6ac39b2a/">套件管理工具</a></li><li class="post-list-item"><a class="post-list-link" href="/git-ssh-agent-3191a3b8/">git ssh-agent教學</a></li><li class="post-list-item"><a class="post-list-link" href="/flutter-i18n-translate-869ccd78/">flutter 多國語系設定</a></li><li class="post-list-item"><a class="post-list-link" href="/flutter-json-and-serialization-7dae1368/">flutter JSON與序列化</a></li><li class="post-list-item"><a class="post-list-link" href="/flutter-fetch-data-f25e03ed/">flutter串接資料</a></li><li class="post-list-item"><a class="post-list-link" href="/git-ssh-6efbc176/">管理多個git帳號</a></li><li class="post-list-item"><a class="post-list-link" href="/javascript-hoisting-11da879d/">[筆記] JavaScript的Hoisting</a></li><li class="post-list-item"><a class="post-list-link" href="/git-commit-rules-1aeec585/">關於git commit規範</a></li><li class="post-list-item"><a class="post-list-link" href="/javascript-global-object-9f77ade/">JS全域物件</a></li><li class="post-list-item"><a class="post-list-link" href="/IDE-vscode-update-789c3552/">自動更新vscode失敗</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">ZL's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var SEARCH_SERVICE = 'hexo';
var ROOT = '/'|| '/';</script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/app.js?v=0.0.0"></script></div></body></html>